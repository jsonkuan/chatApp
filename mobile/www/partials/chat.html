<ion-side-menus>
  <!--Main content container start -->
  <ion-side-menu-content>
    <!--Header bar -->
    <ion-header-bar class="bar-light">
      <div class="buttons">
        <button class="button icon button-clear ion-pound" ng-click="toggleLeft()"></button>
      </div>
      <h1 class="title">{{currentChannel.name}}</h1>
      <div class="buttons">
        <button class="button icon button-clear ion-navicon-round" ng-click="toggleRight()"></button>
      </div>
    </ion-header-bar>

    <!--Start of chat page content here -->
    <ion-content class="has-header has-footer chat-input-box">
        <div class="chat-box" ng-repeat="message in messageDb  | orderBy: 'date' track by $index" >
          <img class="avatar-thumb" ng-src="{{message.avatar}}" name="avatar" alt="Profile picture">
          <p class="username" ng-click="startDirectChat(activeUser, getUserFromMsg(message.userId))">{{message.username}}</p>
          <p class="date">{{message.timestamp}}</p>
          <p smilies="message.text" class="messagetext">{{message.text}}</p>
          <img class="attachment" ng-src="{{message.attachment}}">
        </div>
    </ion-content>
    <!--End of chat page content here -->

    <!--Footer bar-->
    <div class="bar bar-footer bar-light">
        <div class="item item-input-inset">
          <label class="item-input-wrapper">
            <input type="text" placeholder="@ Message" ng-model="chatInput.text">
          </label>
          <input ngf-select class="ng-hide" ng-model="chatInput.attachment" id="selectedAttach" ng-change="addAttachment()">
          <label ng-click="removeAttachment()" ng-show="chatInput.attachmentPath"><i class="ion-paperclip button button-small icon_red"></i></label>
          <label for="selectedAttach" class="button button-small icon">+</label>
          <button class="button button-small" ng-click=sendMessage(chatInput.text)>Send</button>
        </div>
    </div>

  </ion-side-menu-content>
  <!--Main content container end -->
  <!-- Left menu -->
  <ion-side-menu id="channel-drawer" side="left">
    <ion-header-bar class="bar-light">
      <img src="img/snakk_logo.png" alt="#SNAKK" class="title logo">
    </ion-header-bar>
    <ion-content class="list-avatar-page has-header">
      <!--Channels -->
      <div class="activeUserName">
        <i class="ion-social-octocat slack-green"></i>
        <p class="usernamePad">{{username}}</p>
      </div>
    <div class="list">
        <h5 class="list-title">Channels<i class="ion-ios-plus-outline add-channel-icon"></i></h5>
        <a class="item channels" ng-repeat="channel in channels | orderBy: 'name'" ng-click="openChat(channel)">
        <h2 class="list-style">
            <span class="hashtag-icon" ng-if="channel.accessability == 'public'">#</span>
            <span ng-if="channel.accessability == 'private'"><img id="lock-icon" src="img/ic_lock_black_24px.svg" alt="!"/></span>
            <span ng-if="channelStatus[channel._id].update" class="channel-highlight">{{channel.name}}</span>
            <span ng-if="!channelStatus[channel._id].update">{{channel.name}}</span>
        </h2>
        </a>
    </div>
      <!--Direct Messages -->
        <h5 class="list-title">Direct Messages</h5>
        <a class="item list_side" ng-repeat="user in users | orderBy: 'username'" ng-click="startDirectChat(activeUser, user)">
          <div class="list chat userList">
           <img id="sidemenu-thumbNail" ngf-thumbnail="user.avatar">
            <p ng-if="channelStatus[user.channelId].update" class="channel-highlight">{{user.username}}</p>
            <p ng-if="!channelStatus[user.channelId].update">{{user.username}}</p>
            <i ng-if="user.status == 'online'" class="ion-ios-circle-filled slack-green"> online</i>
            <i ng-if="user.status == 'offline'" class="ion-ios-circle-outline slack-off"> offline</i>
          </div>
        </a>
    </ion-content>
  </ion-side-menu>

  <!-- Right menu -->
  <ion-side-menu side="right">
    <ion-header-bar class="bar-light">
      <h1 class="title">Settings</h1>
    </ion-header-bar>
    <ion-content class="list-avatar-page has-header side-right">
      <div class="item item-avatar avatarFrame">
        <img ngf-src="avatar" ngf-thumbnail="userInput.avatar" ng-src="avatar" ngf-select ng-model="userInput.avatar" name="avatar" alt="Profile picture">
        <h4 >{{username}}</h4>
        <h5 >{{email}}</h5>
      </div>
      <button class="button button-block button-positive" ng-click="takePhoto()">Take picture</button>
      <form>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Change Username</span>
          <input ng-model="userInput.username" class="input settings" type="text" placeholder="username">
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">Change Password</span>
          <input class="input settings" ng-model="userInput.password" type="password" placeholder="password">
        </label>
      </form>
      <div>
        <button class="button button-block button-positive chat" ng-click="saveSettings()">Save changes</button>
      </div>
      <div>
        <button class="button button-block button-positive chat" ng-click="logout()">Logout</button>
      </div>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>
